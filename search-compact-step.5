from bs4 import BeautifulSoup
from itertools import permutations
import requests
import math

# https://t.me/
povtor = 5

def generator(povtor):
    count_s = 1
    leen_pos = 26
    pro = []
    pro.append(leen_pos)
    count = 0
    for i in range(1,povtor):
        pro.append(pro[count]-1)
        count+=1
    prouz = math.prod(pro)
    print(prouz)

    for x in permutations('qwertyuioplkjhgfdsazxcvbnm',povtor):
        s = ''.join(x)
        if prouz == count_s:
            povtor+=1
            generator(povtor)
        count_s+=1
        pars(s)

def pars(s):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36'
    }
    url = 'https://t.me/' + s
    res = requests.get(url, headers=headers)
    soup = BeautifulSoup(res.text, 'lxml')
    try:
        info = soup.find('div', class_='tgme_page_title').get_text(strip=True)
        print(url,info)
        #file = open("url.txt", "a")
        #file.write(url + ' ' + info + '\n')
    except  Exception:
        return True
        
generator(povtor)
